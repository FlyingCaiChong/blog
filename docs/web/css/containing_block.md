# 包含块 Containing block

包含块可以决定一个元素大小和定位的元素. 包含块也可以理解为一个矩形盒子,这个矩形盒子的作用是为这个矩形内部的后代元素(子元素、孙子元素等)提供一个参考.

通常情况下, 一个元素的包含块是由离它最近的“块级祖先元素”的“内容边界”决定的. 但当元素被设置为绝对定位时, 此时该元素的包含块是由离它最近的"`position:relative`"或"`position:absolute`"的祖先元素决定. 一个元素生成的盒子会扮演该元素的内部元素包含块的角色.也就是说,一个元素的 `CSS` 盒子为它的内部元素建造了包含块.

## 包含块的判定

### 1. 根元素

根元素（`HTML` 元素），是一个页面中最顶端的元素，它没有父元素。根元素存在的包含块，被称为“初始包含块（`initial containing block`）

### 2. 固定定位元素

如果元素的 `position` 属性为 `fixed`，那么它的包含块是当前可视窗口，也就是当前浏览器窗口。

### 3. 静态定位元素和相对定位元素

如果元素的 `position` 属性为 `static` 或 `relative`，那么它的包含块是它最近的块级祖先元素创建的。祖先元素必须是 `block`、`inline-block` 或者 `table-cell` 类型。

### 4. 绝对定位元素

如果元素的 `position` 属性为 `absolute`，那么它的包含块是由最近的 `position` 属性不为 `static` 的祖先元素。这里的祖先元素可以是块元素，也可以是行内元素。

## 包含块的范围

1. 如果祖先元素是块元素，则包含块的范围为祖先元素的 `padding edge` 形成。
2. 如果祖先是行内元素，则包含块取决于祖先元素的 `direction` 属性。
